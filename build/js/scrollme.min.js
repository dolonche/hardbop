var scrollme=function(n){var k={},e=n(document),t=n(window);return k.body_height=0,k.viewport_height=0,k.viewport_top=0,k.viewport_bottom=0,k.viewport_top_previous=-1,k.elements=[],k.elements_in_view=[],k.property_defaults={opacity:1,translatex:0,translatey:0,translatez:0,rotatex:0,rotatey:0,rotatez:0,scale:1,scalex:1,scaley:1,scalez:1},k.scrollme_selector=".scrollme",k.animateme_selector=".animateme",k.update_interval=10,k.easing_functions={linear:function(e){return e},easeout:function(e){return e*e*e},easein:function(e){return 1-(e=1-e)*e*e},easeinout:function(e){return e<.5?4*e*e*e:1-4*(e=1-e)*e*e}},k.init_events=["ready","page:load","page:change"],k.init_if=function(){return!0},k.init=function(){return!!k.init_if()&&(k.init_elements(),k.on_resize(),t.on("resize orientationchange",function(){k.on_resize()}),t.load(function(){setTimeout(function(){k.on_resize()},100)}),setInterval(k.update,k.update_interval),!0)},k.init_elements=function(){n(k.scrollme_selector).each(function(){var e={};e.element=n(this);var a=[];n(this).find(k.animateme_selector).addBack(k.animateme_selector).each(function(){var e={};e.element=n(this),e.when=e.element.data("when"),e.from=e.element.data("from"),e.to=e.element.data("to"),e.element.is("[data-crop]")?e.crop=e.element.data("crop"):e.crop=!0,e.element.is("[data-easing]")?e.easing=k.easing_functions[e.element.data("easing")]:e.easing=k.easing_functions.easeout;var t={};e.element.is("[data-opacity]")&&(t.opacity=e.element.data("opacity")),e.element.is("[data-translatex]")&&(t.translatex=e.element.data("translatex")),e.element.is("[data-translatey]")&&(t.translatey=e.element.data("translatey")),e.element.is("[data-translatez]")&&(t.translatez=e.element.data("translatez")),e.element.is("[data-rotatex]")&&(t.rotatex=e.element.data("rotatex")),e.element.is("[data-rotatey]")&&(t.rotatey=e.element.data("rotatey")),e.element.is("[data-rotatez]")&&(t.rotatez=e.element.data("rotatez")),e.element.is("[data-scale]")&&(t.scale=e.element.data("scale")),e.element.is("[data-scalex]")&&(t.scalex=e.element.data("scalex")),e.element.is("[data-scaley]")&&(t.scaley=e.element.data("scaley")),e.element.is("[data-scalez]")&&(t.scalez=e.element.data("scalez")),e.properties=t,a.push(e)}),e.effects=a,k.elements.push(e)})},k.update=function(){window.requestAnimationFrame(function(){k.update_viewport_position(),k.viewport_top_previous!=k.viewport_top&&(k.update_elements_in_view(),k.animate()),k.viewport_top_previous=k.viewport_top})},k.animate=function(){for(var e=k.elements_in_view.length,t=0;t<e;t++)for(var a=k.elements_in_view[t],n=a.effects.length,i=0;i<n;i++){var o=a.effects[i];switch(o.when){case"view":case"span":var r=a.top-k.viewport_height,s=a.bottom;break;case"exit":r=a.bottom-k.viewport_height,s=a.bottom;break;default:r=a.top-k.viewport_height,s=a.top}o.crop&&(r<0&&(r=0),s>k.body_height-k.viewport_height&&(s=k.body_height-k.viewport_height));var l=(k.viewport_top-r)/(s-r),m=o.from,p=o.to,c=(l-m)/(p-m),_=o.easing(c),u=k.animate_value(l,_,m,p,o,"opacity"),v=k.animate_value(l,_,m,p,o,"translatey"),d=k.animate_value(l,_,m,p,o,"translatex"),h=k.animate_value(l,_,m,p,o,"translatez"),f=k.animate_value(l,_,m,p,o,"rotatex"),w=k.animate_value(l,_,m,p,o,"rotatey"),g=k.animate_value(l,_,m,p,o,"rotatez"),y=k.animate_value(l,_,m,p,o,"scale"),x=k.animate_value(l,_,m,p,o,"scalex"),z=k.animate_value(l,_,m,p,o,"scaley"),b=k.animate_value(l,_,m,p,o,"scalez");"scale"in o.properties&&(b=z=x=y),o.element.css({opacity:u,transform:"translate3d( "+d+"px , "+v+"px , "+h+"px ) rotateX( "+f+"deg ) rotateY( "+w+"deg ) rotateZ( "+g+"deg ) scale3d( "+x+" , "+z+" , "+b+" )"})}},k.animate_value=function(e,t,a,n,i,o){var r=k.property_defaults[o];if(!(o in i.properties))return r;var s=i.properties[o],l=a<n;if(e<a&&l)return r;if(n<e&&l)return s;if(a<e&&!l)return r;if(e<n&&!l)return s;var m=r+t*(s-r);switch(o){case"opacity":m=m.toFixed(2);break;case"translatex":case"translatey":case"translatez":m=m.toFixed(0);break;case"rotatex":case"rotatey":case"rotatez":m=m.toFixed(1);break;case"scale":m=m.toFixed(3)}return m},k.update_viewport_position=function(){k.viewport_top=t.scrollTop(),k.viewport_bottom=k.viewport_top+k.viewport_height},k.update_elements_in_view=function(){k.elements_in_view=[];for(var e=k.elements.length,t=0;t<e;t++)k.elements[t].top<k.viewport_bottom&&k.elements[t].bottom>k.viewport_top&&k.elements_in_view.push(k.elements[t])},k.on_resize=function(){k.update_viewport(),k.update_element_heights(),k.update_viewport_position(),k.update_elements_in_view(),k.animate()},k.update_viewport=function(){k.body_height=e.height(),k.viewport_height=t.height()},k.update_element_heights=function(){for(var e=k.elements.length,t=0;t<e;t++){var a=k.elements[t].element.outerHeight(),n=k.elements[t].element.offset();k.elements[t].height=a,k.elements[t].top=n.top,k.elements[t].bottom=n.top+a}},e.on(k.init_events.join(" "),function(){k.init()}),k}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcm9sbG1lLmpzIl0sIm5hbWVzIjpbInNjcm9sbG1lIiwiJCIsIl90aGlzIiwiJGRvY3VtZW50IiwiZG9jdW1lbnQiLCIkd2luZG93Iiwid2luZG93IiwiYm9keV9oZWlnaHQiLCJ2aWV3cG9ydF9oZWlnaHQiLCJ2aWV3cG9ydF90b3AiLCJ2aWV3cG9ydF9ib3R0b20iLCJ2aWV3cG9ydF90b3BfcHJldmlvdXMiLCJlbGVtZW50cyIsImVsZW1lbnRzX2luX3ZpZXciLCJwcm9wZXJ0eV9kZWZhdWx0cyIsIm9wYWNpdHkiLCJ0cmFuc2xhdGV4IiwidHJhbnNsYXRleSIsInRyYW5zbGF0ZXoiLCJyb3RhdGV4Iiwicm90YXRleSIsInJvdGF0ZXoiLCJzY2FsZSIsInNjYWxleCIsInNjYWxleSIsInNjYWxleiIsInNjcm9sbG1lX3NlbGVjdG9yIiwiYW5pbWF0ZW1lX3NlbGVjdG9yIiwidXBkYXRlX2ludGVydmFsIiwiZWFzaW5nX2Z1bmN0aW9ucyIsImxpbmVhciIsIngiLCJlYXNlb3V0IiwiZWFzZWluIiwiZWFzZWlub3V0IiwiaW5pdF9ldmVudHMiLCJpbml0X2lmIiwiaW5pdCIsImluaXRfZWxlbWVudHMiLCJvbl9yZXNpemUiLCJvbiIsImxvYWQiLCJzZXRUaW1lb3V0Iiwic2V0SW50ZXJ2YWwiLCJ1cGRhdGUiLCJlYWNoIiwiZWxlbWVudCIsInRoaXMiLCJlZmZlY3RzIiwiZmluZCIsImFkZEJhY2siLCJlZmZlY3QiLCJ3aGVuIiwiZGF0YSIsImZyb20iLCJ0byIsImlzIiwiY3JvcCIsImVhc2luZyIsInByb3BlcnRpZXMiLCJwdXNoIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidXBkYXRlX3ZpZXdwb3J0X3Bvc2l0aW9uIiwidXBkYXRlX2VsZW1lbnRzX2luX3ZpZXciLCJhbmltYXRlIiwiZWxlbWVudHNfaW5fdmlld19sZW5ndGgiLCJsZW5ndGgiLCJpIiwiZWZmZWN0c19sZW5ndGgiLCJlIiwic3RhcnQiLCJ0b3AiLCJlbmQiLCJib3R0b20iLCJzY3JvbGwiLCJzY3JvbGxfcmVsYXRpdmUiLCJzY3JvbGxfZWFzZWQiLCJhbmltYXRlX3ZhbHVlIiwiY3NzIiwidHJhbnNmb3JtIiwicHJvcGVydHkiLCJ2YWx1ZV9kZWZhdWx0IiwidmFsdWVfdGFyZ2V0IiwiZm9yd2FyZHMiLCJuZXdfdmFsdWUiLCJ0b0ZpeGVkIiwic2Nyb2xsVG9wIiwiZWxlbWVudHNfbGVuZ3RoIiwidXBkYXRlX3ZpZXdwb3J0IiwidXBkYXRlX2VsZW1lbnRfaGVpZ2h0cyIsImhlaWdodCIsImVsZW1lbnRfaGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJwb3NpdGlvbiIsIm9mZnNldCIsImpvaW4iLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJBQU1BLElBQUlBLFNBQVcsU0FBWUMsR0FLMUIsSUFBSUMsRUFBUSxHQUtSQyxFQUFZRixFQUFHRyxVQUNmQyxFQUFVSixFQUFHSyxRQWliakIsT0EvYUFKLEVBQU1LLFlBQWMsRUFFcEJMLEVBQU1NLGdCQUFrQixFQUV4Qk4sRUFBTU8sYUFBZSxFQUNyQlAsRUFBTVEsZ0JBQWtCLEVBRXhCUixFQUFNUyx1QkFBeUIsRUFFL0JULEVBQU1VLFNBQVcsR0FDakJWLEVBQU1XLGlCQUFtQixHQUV6QlgsRUFBTVksa0JBQ04sQ0FDQ0MsUUFBWSxFQUNaQyxXQUFlLEVBQ2ZDLFdBQWUsRUFDZkMsV0FBZSxFQUNmQyxRQUFZLEVBQ1pDLFFBQVksRUFDWkMsUUFBWSxFQUNaQyxNQUFVLEVBQ1ZDLE9BQVcsRUFDWEMsT0FBVyxFQUNYQyxPQUFXLEdBR1p2QixFQUFNd0Isa0JBQW9CLFlBQzFCeEIsRUFBTXlCLG1CQUFxQixhQUUzQnpCLEVBQU0wQixnQkFBa0IsR0FJeEIxQixFQUFNMkIsaUJBQ04sQ0FDQ0MsT0FBVyxTQUFVQyxHQUVwQixPQUFPQSxHQUdSQyxRQUFZLFNBQVVELEdBRXJCLE9BQU9BLEVBQUlBLEVBQUlBLEdBR2hCRSxPQUFXLFNBQVVGLEdBR3BCLE9BQU8sR0FEUEEsRUFBSSxFQUFJQSxHQUNTQSxFQUFJQSxHQUd0QkcsVUFBYyxTQUFVSCxH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NUJDLEVBQUUsRUFBSUEsRUFBRW9CLEVBQWtCcEIsSUFDbkMsQ0FDQyxJQUFJd0IsRUFBaUJ6RixFQUFNVSxTQUFTdUQsR0FBR3JCLFFBQVE4QyxjQUMzQ0MsRUFBVzNGLEVBQU1VLFNBQVN1RCxHQUFHckIsUUFBUWdELFNBRXpDNUYsRUFBTVUsU0FBU3VELEdBQUd1QixPQUFTQyxFQUMzQnpGLEVBQU1VLFNBQVN1RCxHQUFHSSxJQUFNc0IsRUFBU3RCLElBQ2pDckUsRUFBTVUsU0FBU3VELEdBQUdNLE9BQVNvQixFQUFTdEIsSUFBTW9CLElBTzVDeEYsRUFBVXFDLEdBQUl0QyxFQUFNaUMsWUFBWTRELEtBQU0sS0FBUSxXQUFZN0YsRUFBTW1DLFNBSXpEbkMsRUE1Yk8sQ0FnY1g4RiIsImZpbGUiOiJzY3JvbGxtZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFNjcm9sbE1lXG4vLyBBIGpRdWVyeSBwbHVnaW4gZm9yIGFkZGluZyBzaW1wbGUgc2Nyb2xsaW5nIGVmZmVjdHMgdG8gd2ViIHBhZ2VzXG4vLyBodHRwOi8vc2Nyb2xsbWUubmNrcHJzbi5jb21cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxudmFyIHNjcm9sbG1lID0gKCBmdW5jdGlvbiggJCApXG57XG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0Ly8gU2Nyb2xsTWUgb2JqZWN0XG5cblx0dmFyIF90aGlzID0ge307XG5cblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQvLyBQcm9wZXJ0aWVzXG5cblx0dmFyICRkb2N1bWVudCA9ICQoIGRvY3VtZW50ICk7XG5cdHZhciAkd2luZG93ID0gJCggd2luZG93ICk7XG5cblx0X3RoaXMuYm9keV9oZWlnaHQgPSAwO1xuXG5cdF90aGlzLnZpZXdwb3J0X2hlaWdodCA9IDA7XG5cblx0X3RoaXMudmlld3BvcnRfdG9wID0gMDtcblx0X3RoaXMudmlld3BvcnRfYm90dG9tID0gMDtcblxuXHRfdGhpcy52aWV3cG9ydF90b3BfcHJldmlvdXMgPSAtMTtcblxuXHRfdGhpcy5lbGVtZW50cyA9IFtdO1xuXHRfdGhpcy5lbGVtZW50c19pbl92aWV3ID0gW107XG5cblx0X3RoaXMucHJvcGVydHlfZGVmYXVsdHMgPVxuXHR7XG5cdFx0J29wYWNpdHknIDogMSxcblx0XHQndHJhbnNsYXRleCcgOiAwLFxuXHRcdCd0cmFuc2xhdGV5JyA6IDAsXG5cdFx0J3RyYW5zbGF0ZXonIDogMCxcblx0XHQncm90YXRleCcgOiAwLFxuXHRcdCdyb3RhdGV5JyA6IDAsXG5cdFx0J3JvdGF0ZXonIDogMCxcblx0XHQnc2NhbGUnIDogMSxcblx0XHQnc2NhbGV4JyA6IDEsXG5cdFx0J3NjYWxleScgOiAxLFxuXHRcdCdzY2FsZXonIDogMVxuXHR9O1xuXG5cdF90aGlzLnNjcm9sbG1lX3NlbGVjdG9yID0gJy5zY3JvbGxtZSc7XG5cdF90aGlzLmFuaW1hdGVtZV9zZWxlY3RvciA9ICcuYW5pbWF0ZW1lJztcblxuXHRfdGhpcy51cGRhdGVfaW50ZXJ2YWwgPSAxMDtcblxuXHQvLyBFYXNpbmcgZnVuY3Rpb25zXG5cblx0X3RoaXMuZWFzaW5nX2Z1bmN0aW9ucyA9XG5cdHtcblx0XHQnbGluZWFyJyA6IGZ1bmN0aW9uKCB4IClcblx0XHR7XG5cdFx0XHRyZXR1cm4geDtcblx0XHR9LFxuXG5cdFx0J2Vhc2VvdXQnIDogZnVuY3Rpb24oIHggKVxuXHRcdHtcblx0XHRcdHJldHVybiB4ICogeCAqIHg7XG5cdFx0fSxcblxuXHRcdCdlYXNlaW4nIDogZnVuY3Rpb24oIHggKVxuXHRcdHtcblx0XHRcdHggPSAxIC0geDtcblx0XHRcdHJldHVybiAxIC0gKCB4ICogeCAqIHggKTtcblx0XHR9LFxuXG5cdFx0J2Vhc2Vpbm91dCcgOiBmdW5jdGlvbiggeCApXG5cdFx0e1xuXHRcdFx0aWYoIHggPCAwLjUgKVxuXHRcdFx0e1xuXHRcdFx0XHRyZXR1cm4gKCA0ICogeCAqIHggKiB4ICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHRcdHggPSAxIC0geDtcblx0XHRcdFx0cmV0dXJuIDEgLSAoIDQgKiB4ICogeCAqIHggKSA7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8vIERvY3VtZW50IGV2ZW50cyB0byBiaW5kIGluaXRpYWxpc2F0aW9uIHRvXG5cblx0X3RoaXMuaW5pdF9ldmVudHMgPVxuXHRbXG5cdFx0J3JlYWR5Jyxcblx0XHQncGFnZTpsb2FkJywgLy8gVHVyYm9saW5rc1xuXHRcdCdwYWdlOmNoYW5nZScgLy8gVHVyYm9saW5rc1xuXHRdO1xuXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0Ly8gSW5pdGlhbGlzYXRpb24gY29uZGl0aW9uc1xuXG5cdF90aGlzLmluaXRfaWYgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH1cblxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdC8vIEluaXRpYWxpc2F0aW9uXG5cblx0X3RoaXMuaW5pdCA9IGZ1bmN0aW9uKClcblx0e1xuXHRcdC8vIENhbmNlbCBpZiBpbml0aWFsaXNhdGlvbiBjb25kaXRpb25zIG5vdCBtZXRcblxuXHRcdGlmKCAhX3RoaXMuaW5pdF9pZigpICkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0Ly8gTG9hZCBhbGwgZWxlbWVudHMgdG8gYW5pbWF0ZVxuXG5cdFx0X3RoaXMuaW5pdF9lbGVtZW50cygpO1xuXG5cdFx0Ly8gR2V0IGVsZW1lbnQgJiB2aWV3cG9ydCBzaXplc1xuXG5cdFx0X3RoaXMub25fcmVzaXplKCk7XG5cblx0XHQvLyBSZWNhbGN1bGF0ZSBoZWlnaHRzICYgcG9zaXRpb25zIG9uIHJlc2l6ZSBhbmQgcm90YXRlXG5cblx0XHQkd2luZG93Lm9uKCAncmVzaXplIG9yaWVudGF0aW9uY2hhbmdlJyAsIGZ1bmN0aW9uKCl7IF90aGlzLm9uX3Jlc2l6ZSgpOyB9ICk7XG5cblx0XHQvLyBSZWNhbGN1bGF0ZSBoZWlnaHRzICYgcG9zaXRpb25zIHdoZW4gcGFnZSBpcyBmdWxseSBsb2FkZWQgKyBhIGJpdCBqdXN0IGluIGNhc2VcblxuXHRcdCR3aW5kb3cubG9hZCggZnVuY3Rpb24oKXsgc2V0VGltZW91dCggZnVuY3Rpb24oKXsgX3RoaXMub25fcmVzaXplKCk7IH0gLCAxMDAgKSB9KTtcblxuXHRcdC8vIFN0YXJ0IGFuaW1hdGluZ1xuXG5cdFx0c2V0SW50ZXJ2YWwoIF90aGlzLnVwZGF0ZSAsIF90aGlzLnVwZGF0ZV9pbnRlcnZhbCApO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdC8vIEdldCBsaXN0IGFuZCBwcmUtbG9hZCBhbmltYXRlZCBlbGVtZW50c1xuXG5cdF90aGlzLmluaXRfZWxlbWVudHMgPSBmdW5jdGlvbigpXG5cdHtcblx0XHQvLyBGb3IgZWFjaCByZWZlcmVuY2UgZWxlbWVudFxuXG5cdFx0JCggX3RoaXMuc2Nyb2xsbWVfc2VsZWN0b3IgKS5lYWNoKCBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0dmFyIGVsZW1lbnQgPSB7fTtcblxuXHRcdFx0ZWxlbWVudC5lbGVtZW50ID0gJCggdGhpcyApO1xuXG5cdFx0XHR2YXIgZWZmZWN0cyA9IFtdO1xuXG5cdFx0XHQvLyBGb3IgZWFjaCBhbmltYXRlZCBlbGVtZW50XG5cblx0XHRcdCQoIHRoaXMgKS5maW5kKCBfdGhpcy5hbmltYXRlbWVfc2VsZWN0b3IgKS5hZGRCYWNrKCBfdGhpcy5hbmltYXRlbWVfc2VsZWN0b3IgKS5lYWNoKCBmdW5jdGlvbigpXG5cdFx0XHR7XG5cdFx0XHRcdC8vIEdldCBlZmZlY3QgZGV0YWlsc1xuXG5cdFx0XHRcdHZhciBlZmZlY3QgPSB7fTtcblxuXHRcdFx0XHRlZmZlY3QuZWxlbWVudCA9ICQoIHRoaXMgKTtcblxuXHRcdFx0XHRlZmZlY3Qud2hlbiA9IGVmZmVjdC5lbGVtZW50LmRhdGEoICd3aGVuJyApO1xuXHRcdFx0XHRlZmZlY3QuZnJvbSA9IGVmZmVjdC5lbGVtZW50LmRhdGEoICdmcm9tJyApO1xuXHRcdFx0XHRlZmZlY3QudG8gPSBlZmZlY3QuZWxlbWVudC5kYXRhKCAndG8nICk7XG5cblx0XHRcdFx0aWYoIGVmZmVjdC5lbGVtZW50LmlzKCAnW2RhdGEtY3JvcF0nICkgKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0ZWZmZWN0LmNyb3AgPSBlZmZlY3QuZWxlbWVudC5kYXRhKCAnY3JvcCcgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRlZmZlY3QuY3JvcCA9IHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiggZWZmZWN0LmVsZW1lbnQuaXMoICdbZGF0YS1lYXNpbmddJyApIClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGVmZmVjdC5lYXNpbmcgPSBfdGhpcy5lYXNpbmdfZnVuY3Rpb25zWyBlZmZlY3QuZWxlbWVudC5kYXRhKCAnZWFzaW5nJyApIF1cblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRlZmZlY3QuZWFzaW5nID0gX3RoaXMuZWFzaW5nX2Z1bmN0aW9uc1sgJ2Vhc2VvdXQnIF07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBHZXQgYW5pbWF0ZWQgcHJvcGVydGllc1xuXG5cdFx0XHRcdHZhciBwcm9wZXJ0aWVzID0ge307XG5cblx0XHRcdFx0aWYoIGVmZmVjdC5lbGVtZW50LmlzKCAnW2RhdGEtb3BhY2l0eV0nICkgKSAgICBwcm9wZXJ0aWVzLm9wYWNpdHkgICAgPSBlZmZlY3QuZWxlbWVudC5kYXRhKCAnb3BhY2l0eScgKTtcblx0XHRcdFx0aWYoIGVmZmVjdC5lbGVtZW50LmlzKCAnW2RhdGEtdHJhbnNsYXRleF0nICkgKSBwcm9wZXJ0aWVzLnRyYW5zbGF0ZXggPSBlZmZlY3QuZWxlbWVudC5kYXRhKCAndHJhbnNsYXRleCcgKTtcblx0XHRcdFx0aWYoIGVmZmVjdC5lbGVtZW50LmlzKCAnW2RhdGEtdHJhbnNsYXRleV0nICkgKSBwcm9wZXJ0aWVzLnRyYW5zbGF0ZXkgPSBlZmZlY3QuZWxlbWVudC5kYXRhKCAndHJhbnNsYXRleScgKTtcblx0XHRcdFx0aWYoIGVmZmVjdC5lbGVtZW50LmlzKCAnW2RhdGEtdHJhbnNsYXRlel0nICkgKSBwcm9wZXJ0aWVzLnRyYW5zbGF0ZXogPSBlZmZlY3QuZWxlbWVudC5kYXRhKCAndHJhbnNsYXRleicgKTtcblx0XHRcdFx0aWYoIGVmZmVjdC5lbGVtZW50LmlzKCAnW2RhdGEtcm90YXRleF0nICkgKSAgICBwcm9wZXJ0aWVzLnJvdGF0ZXggICAgPSBlZmZlY3QuZWxlbWVudC5kYXRhKCAncm90YXRleCcgKTtcblx0XHRcdFx0aWYoIGVmZmVjdC5lbGVtZW50LmlzKCAnW2RhdGEtcm90YXRleV0nICkgKSAgICBwcm9wZXJ0aWVzLnJvdGF0ZXkgICAgPSBlZmZlY3QuZWxlbWVudC5kYXRhKCAncm90YXRleScgKTtcblx0XHRcdFx0aWYoIGVmZmVjdC5lbGVtZW50LmlzKCAnW2RhdGEtcm90YXRlel0nICkgKSAgICBwcm9wZXJ0aWVzLnJvdGF0ZXogICAgPSBlZmZlY3QuZWxlbWVudC5kYXRhKCAncm90YXRleicgKTtcblx0XHRcdFx0aWYoIGVmZmVjdC5lbGVtZW50LmlzKCAnW2RhdGEtc2NhbGVdJyApICkgICAgICBwcm9wZXJ0aWVzLnNjYWxlICAgICAgPSBlZmZlY3QuZWxlbWVudC5kYXRhKCAnc2NhbGUnICk7XG5cdFx0XHRcdGlmKCBlZmZlY3QuZWxlbWVudC5pcyggJ1tkYXRhLXNjYWxleF0nICkgKSAgICAgcHJvcGVydGllcy5zY2FsZXggICAgID0gZWZmZWN0LmVsZW1lbnQuZGF0YSggJ3NjYWxleCcgKTtcblx0XHRcdFx0aWYoIGVmZmVjdC5lbGVtZW50LmlzKCAnW2RhdGEtc2NhbGV5XScgKSApICAgICBwcm9wZXJ0aWVzLnNjYWxleSAgICAgPSBlZmZlY3QuZWxlbWVudC5kYXRhKCAnc2NhbGV5JyApO1xuXHRcdFx0XHRpZiggZWZmZWN0LmVsZW1lbnQuaXMoICdbZGF0YS1zY2FsZXpdJyApICkgICAgIHByb3BlcnRpZXMuc2NhbGV6ICAgICA9IGVmZmVjdC5lbGVtZW50LmRhdGEoICdzY2FsZXonICk7XG5cblx0XHRcdFx0ZWZmZWN0LnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuXG5cdFx0XHRcdGVmZmVjdHMucHVzaCggZWZmZWN0ICk7XG5cdFx0XHR9KTtcblxuXHRcdFx0ZWxlbWVudC5lZmZlY3RzID0gZWZmZWN0cztcblxuXHRcdFx0X3RoaXMuZWxlbWVudHMucHVzaCggZWxlbWVudCApO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQvLyBVcGRhdGUgZWxlbWVudHNcblxuXHRfdGhpcy51cGRhdGUgPSBmdW5jdGlvbigpXG5cdHtcblx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0X3RoaXMudXBkYXRlX3ZpZXdwb3J0X3Bvc2l0aW9uKCk7XG5cblx0XHRcdGlmKCBfdGhpcy52aWV3cG9ydF90b3BfcHJldmlvdXMgIT0gX3RoaXMudmlld3BvcnRfdG9wIClcblx0XHRcdHtcblx0XHRcdFx0X3RoaXMudXBkYXRlX2VsZW1lbnRzX2luX3ZpZXcoKTtcblx0XHRcdFx0X3RoaXMuYW5pbWF0ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRfdGhpcy52aWV3cG9ydF90b3BfcHJldmlvdXMgPSBfdGhpcy52aWV3cG9ydF90b3A7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdC8vIEFuaW1hdGUgc3R1ZmZcblxuXHRfdGhpcy5hbmltYXRlID0gZnVuY3Rpb24oKVxuXHR7XG5cdFx0Ly8gRm9yIGVhY2ggZWxlbWVudCBpbiB2aWV3cG9ydFxuXG5cdFx0dmFyIGVsZW1lbnRzX2luX3ZpZXdfbGVuZ3RoID0gX3RoaXMuZWxlbWVudHNfaW5fdmlldy5sZW5ndGg7XG5cblx0XHRmb3IoIHZhciBpPTAgOyBpPGVsZW1lbnRzX2luX3ZpZXdfbGVuZ3RoIDsgaSsrIClcblx0XHR7XG5cdFx0XHR2YXIgZWxlbWVudCA9IF90aGlzLmVsZW1lbnRzX2luX3ZpZXdbaV07XG5cblx0XHRcdC8vIEZvciBlYWNoIGVmZmVjdFxuXG5cdFx0XHR2YXIgZWZmZWN0c19sZW5ndGggPSBlbGVtZW50LmVmZmVjdHMubGVuZ3RoO1xuXG5cdFx0XHRmb3IoIHZhciBlPTAgOyBlPGVmZmVjdHNfbGVuZ3RoIDsgZSsrIClcblx0XHRcdHtcblx0XHRcdFx0dmFyIGVmZmVjdCA9IGVsZW1lbnQuZWZmZWN0c1tlXTtcblxuXHRcdFx0XHQvLyBHZXQgZWZmZWN0IGFuaW1hdGlvbiBib3VuZGFyaWVzXG5cblx0XHRcdFx0c3dpdGNoKCBlZmZlY3Qud2hlbiApXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjYXNlICd2aWV3JyA6IC8vIE1haW50YWluZWQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG5cdFx0XHRcdFx0Y2FzZSAnc3BhbicgOlxuXHRcdFx0XHRcdFx0dmFyIHN0YXJ0ID0gZWxlbWVudC50b3AgLSBfdGhpcy52aWV3cG9ydF9oZWlnaHQ7XG5cdFx0XHRcdFx0XHR2YXIgZW5kID0gZWxlbWVudC5ib3R0b207XG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdGNhc2UgJ2V4aXQnIDpcblx0XHRcdFx0XHRcdHZhciBzdGFydCA9IGVsZW1lbnQuYm90dG9tIC0gX3RoaXMudmlld3BvcnRfaGVpZ2h0O1xuXHRcdFx0XHRcdFx0dmFyIGVuZCA9IGVsZW1lbnQuYm90dG9tO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRkZWZhdWx0IDpcblx0XHRcdFx0XHRcdHZhciBzdGFydCA9IGVsZW1lbnQudG9wIC0gX3RoaXMudmlld3BvcnRfaGVpZ2h0O1xuXHRcdFx0XHRcdFx0dmFyIGVuZCA9IGVsZW1lbnQudG9wO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDcm9wIGJvdW5kYXJpZXNcblxuXHRcdFx0XHRpZiggZWZmZWN0LmNyb3AgKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0aWYoIHN0YXJ0IDwgMCApIHN0YXJ0ID0gMDtcblx0XHRcdFx0XHRpZiggZW5kID4gKCBfdGhpcy5ib2R5X2hlaWdodCAtIF90aGlzLnZpZXdwb3J0X2hlaWdodCApICkgZW5kID0gX3RoaXMuYm9keV9oZWlnaHQgLSBfdGhpcy52aWV3cG9ydF9oZWlnaHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBHZXQgc2Nyb2xsIHBvc2l0aW9uIG9mIHJlZmVyZW5jZSBzZWxlY3RvclxuXG5cdFx0XHRcdHZhciBzY3JvbGwgPSAoIF90aGlzLnZpZXdwb3J0X3RvcCAtIHN0YXJ0ICkgLyAoIGVuZCAtIHN0YXJ0ICk7XG5cblx0XHRcdFx0Ly8gR2V0IHJlbGF0aXZlIHNjcm9sbCBwb3NpdGlvbiBmb3IgZWZmZWN0XG5cblx0XHRcdFx0dmFyIGZyb20gPSBlZmZlY3RbICdmcm9tJyBdO1xuXHRcdFx0XHR2YXIgdG8gPSBlZmZlY3RbICd0bycgXTtcblxuXHRcdFx0XHR2YXIgbGVuZ3RoID0gdG8gLSBmcm9tO1xuXG5cdFx0XHRcdHZhciBzY3JvbGxfcmVsYXRpdmUgPSAoIHNjcm9sbCAtIGZyb20gKSAvIGxlbmd0aDtcblxuXHRcdFx0XHQvLyBBcHBseSBlYXNpbmdcblxuXHRcdFx0XHR2YXIgc2Nyb2xsX2Vhc2VkID0gZWZmZWN0LmVhc2luZyggc2Nyb2xsX3JlbGF0aXZlICk7XG5cblx0XHRcdFx0Ly8gR2V0IG5ldyB2YWx1ZSBmb3IgZWFjaCBwcm9wZXJ0eVxuXG5cdFx0XHRcdHZhciBvcGFjaXR5ICAgID0gX3RoaXMuYW5pbWF0ZV92YWx1ZSggc2Nyb2xsICwgc2Nyb2xsX2Vhc2VkICwgZnJvbSAsIHRvICwgZWZmZWN0ICwgJ29wYWNpdHknICk7XG5cdFx0XHRcdHZhciB0cmFuc2xhdGV5ID0gX3RoaXMuYW5pbWF0ZV92YWx1ZSggc2Nyb2xsICwgc2Nyb2xsX2Vhc2VkICwgZnJvbSAsIHRvICwgZWZmZWN0ICwgJ3RyYW5zbGF0ZXknICk7XG5cdFx0XHRcdHZhciB0cmFuc2xhdGV4ID0gX3RoaXMuYW5pbWF0ZV92YWx1ZSggc2Nyb2xsICwgc2Nyb2xsX2Vhc2VkICwgZnJvbSAsIHRvICwgZWZmZWN0ICwgJ3RyYW5zbGF0ZXgnICk7XG5cdFx0XHRcdHZhciB0cmFuc2xhdGV6ID0gX3RoaXMuYW5pbWF0ZV92YWx1ZSggc2Nyb2xsICwgc2Nyb2xsX2Vhc2VkICwgZnJvbSAsIHRvICwgZWZmZWN0ICwgJ3RyYW5zbGF0ZXonICk7XG5cdFx0XHRcdHZhciByb3RhdGV4ICAgID0gX3RoaXMuYW5pbWF0ZV92YWx1ZSggc2Nyb2xsICwgc2Nyb2xsX2Vhc2VkICwgZnJvbSAsIHRvICwgZWZmZWN0ICwgJ3JvdGF0ZXgnICk7XG5cdFx0XHRcdHZhciByb3RhdGV5ICAgID0gX3RoaXMuYW5pbWF0ZV92YWx1ZSggc2Nyb2xsICwgc2Nyb2xsX2Vhc2VkICwgZnJvbSAsIHRvICwgZWZmZWN0ICwgJ3JvdGF0ZXknICk7XG5cdFx0XHRcdHZhciByb3RhdGV6ICAgID0gX3RoaXMuYW5pbWF0ZV92YWx1ZSggc2Nyb2xsICwgc2Nyb2xsX2Vhc2VkICwgZnJvbSAsIHRvICwgZWZmZWN0ICwgJ3JvdGF0ZXonICk7XG5cdFx0XHRcdHZhciBzY2FsZSAgICAgID0gX3RoaXMuYW5pbWF0ZV92YWx1ZSggc2Nyb2xsICwgc2Nyb2xsX2Vhc2VkICwgZnJvbSAsIHRvICwgZWZmZWN0ICwgJ3NjYWxlJyApO1xuXHRcdFx0XHR2YXIgc2NhbGV4ICAgICA9IF90aGlzLmFuaW1hdGVfdmFsdWUoIHNjcm9sbCAsIHNjcm9sbF9lYXNlZCAsIGZyb20gLCB0byAsIGVmZmVjdCAsICdzY2FsZXgnICk7XG5cdFx0XHRcdHZhciBzY2FsZXkgICAgID0gX3RoaXMuYW5pbWF0ZV92YWx1ZSggc2Nyb2xsICwgc2Nyb2xsX2Vhc2VkICwgZnJvbSAsIHRvICwgZWZmZWN0ICwgJ3NjYWxleScgKTtcblx0XHRcdFx0dmFyIHNjYWxleiAgICAgPSBfdGhpcy5hbmltYXRlX3ZhbHVlKCBzY3JvbGwgLCBzY3JvbGxfZWFzZWQgLCBmcm9tICwgdG8gLCBlZmZlY3QgLCAnc2NhbGV6JyApO1xuXG5cdFx0XHRcdC8vIE92ZXJyaWRlIHNjYWxlIHZhbHVlc1xuXG5cdFx0XHRcdGlmKCAnc2NhbGUnIGluIGVmZmVjdC5wcm9wZXJ0aWVzIClcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHNjYWxleCA9IHNjYWxlO1xuXHRcdFx0XHRcdHNjYWxleSA9IHNjYWxlO1xuXHRcdFx0XHRcdHNjYWxleiA9IHNjYWxlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVXBkYXRlIHByb3BlcnRpZXNcblxuXHRcdFx0XHRlZmZlY3QuZWxlbWVudC5jc3MoXG5cdFx0XHRcdHtcblx0XHRcdFx0XHQnb3BhY2l0eScgOiBvcGFjaXR5LFxuXHRcdFx0XHRcdCd0cmFuc2Zvcm0nIDogJ3RyYW5zbGF0ZTNkKCAnK3RyYW5zbGF0ZXgrJ3B4ICwgJyt0cmFuc2xhdGV5KydweCAsICcrdHJhbnNsYXRleisncHggKSByb3RhdGVYKCAnK3JvdGF0ZXgrJ2RlZyApIHJvdGF0ZVkoICcrcm90YXRleSsnZGVnICkgcm90YXRlWiggJytyb3RhdGV6KydkZWcgKSBzY2FsZTNkKCAnK3NjYWxleCsnICwgJytzY2FsZXkrJyAsICcrc2NhbGV6KycgKSdcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0Ly8gQ2FsY3VsYXRlIHByb3BlcnR5IHZhbHVlc1xuXG5cdF90aGlzLmFuaW1hdGVfdmFsdWUgPSBmdW5jdGlvbiggc2Nyb2xsICwgc2Nyb2xsX2Vhc2VkICwgZnJvbSAsIHRvICwgZWZmZWN0ICwgcHJvcGVydHkgKVxuXHR7XG5cdFx0dmFyIHZhbHVlX2RlZmF1bHQgPSBfdGhpcy5wcm9wZXJ0eV9kZWZhdWx0c1sgcHJvcGVydHkgXTtcblxuXHRcdC8vIFJldHVybiBkZWZhdWx0IHZhbHVlIGlmIHByb3BlcnR5IGlzIG5vdCBhbmltYXRlZFxuXG5cdFx0aWYoICEoIHByb3BlcnR5IGluIGVmZmVjdC5wcm9wZXJ0aWVzICkgKSByZXR1cm4gdmFsdWVfZGVmYXVsdDtcblxuXHRcdHZhciB2YWx1ZV90YXJnZXQgPSBlZmZlY3QucHJvcGVydGllc1sgcHJvcGVydHkgXTtcblxuXHRcdHZhciBmb3J3YXJkcyA9ICggdG8gPiBmcm9tICkgPyB0cnVlIDogZmFsc2U7XG5cblx0XHQvLyBSZXR1cm4gYm91bmRhcnkgdmFsdWUgaWYgb3V0c2lkZSBlZmZlY3QgYm91bmRhcmllc1xuXG5cdFx0aWYoIHNjcm9sbCA8IGZyb20gJiYgZm9yd2FyZHMgKSB7IHJldHVybiB2YWx1ZV9kZWZhdWx0OyB9XG5cdFx0aWYoIHNjcm9sbCA+IHRvICYmIGZvcndhcmRzICkgeyByZXR1cm4gdmFsdWVfdGFyZ2V0OyB9XG5cblx0XHRpZiggc2Nyb2xsID4gZnJvbSAmJiAhZm9yd2FyZHMgKSB7IHJldHVybiB2YWx1ZV9kZWZhdWx0OyB9XG5cdFx0aWYoIHNjcm9sbCA8IHRvICYmICFmb3J3YXJkcyApIHsgcmV0dXJuIHZhbHVlX3RhcmdldDsgfVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIG5ldyBwcm9wZXJ0eSB2YWx1ZVxuXG5cdFx0dmFyIG5ld192YWx1ZSA9IHZhbHVlX2RlZmF1bHQgKyAoIHNjcm9sbF9lYXNlZCAqICggdmFsdWVfdGFyZ2V0IC0gdmFsdWVfZGVmYXVsdCApICk7XG5cblx0XHQvLyBSb3VuZCBhcyByZXF1aXJlZFxuXG5cdFx0c3dpdGNoKCBwcm9wZXJ0eSApXG5cdFx0e1xuXHRcdFx0Y2FzZSAnb3BhY2l0eScgICAgOiBuZXdfdmFsdWUgPSBuZXdfdmFsdWUudG9GaXhlZCgyKTsgYnJlYWs7XG5cdFx0XHRjYXNlICd0cmFuc2xhdGV4JyA6IG5ld192YWx1ZSA9IG5ld192YWx1ZS50b0ZpeGVkKDApOyBicmVhaztcblx0XHRcdGNhc2UgJ3RyYW5zbGF0ZXknIDogbmV3X3ZhbHVlID0gbmV3X3ZhbHVlLnRvRml4ZWQoMCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAndHJhbnNsYXRleicgOiBuZXdfdmFsdWUgPSBuZXdfdmFsdWUudG9GaXhlZCgwKTsgYnJlYWs7XG5cdFx0XHRjYXNlICdyb3RhdGV4JyAgICA6IG5ld192YWx1ZSA9IG5ld192YWx1ZS50b0ZpeGVkKDEpOyBicmVhaztcblx0XHRcdGNhc2UgJ3JvdGF0ZXknICAgIDogbmV3X3ZhbHVlID0gbmV3X3ZhbHVlLnRvRml4ZWQoMSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAncm90YXRleicgICAgOiBuZXdfdmFsdWUgPSBuZXdfdmFsdWUudG9GaXhlZCgxKTsgYnJlYWs7XG5cdFx0XHRjYXNlICdzY2FsZScgICAgICA6IG5ld192YWx1ZSA9IG5ld192YWx1ZS50b0ZpeGVkKDMpOyBicmVhaztcblx0XHRcdGRlZmF1bHQgOiBicmVhaztcblx0XHR9XG5cblx0XHQvLyBEb25lXG5cblx0XHRyZXR1cm4gbmV3X3ZhbHVlO1xuXHR9XG5cblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQvLyBVcGRhdGUgdmlld3BvcnQgcG9zaXRpb25cblxuXHRfdGhpcy51cGRhdGVfdmlld3BvcnRfcG9zaXRpb24gPSBmdW5jdGlvbigpXG5cdHtcblx0XHRfdGhpcy52aWV3cG9ydF90b3AgPSAkd2luZG93LnNjcm9sbFRvcCgpO1xuXHRcdF90aGlzLnZpZXdwb3J0X2JvdHRvbSA9IF90aGlzLnZpZXdwb3J0X3RvcCArIF90aGlzLnZpZXdwb3J0X2hlaWdodDtcblx0fVxuXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0Ly8gVXBkYXRlIGxpc3Qgb2YgZWxlbWVudHMgaW4gdmlld1xuXG5cdF90aGlzLnVwZGF0ZV9lbGVtZW50c19pbl92aWV3ID0gZnVuY3Rpb24oKVxuXHR7XG5cdFx0X3RoaXMuZWxlbWVudHNfaW5fdmlldyA9IFtdO1xuXG5cdFx0dmFyIGVsZW1lbnRzX2xlbmd0aCA9IF90aGlzLmVsZW1lbnRzLmxlbmd0aDtcblxuXHRcdGZvciggdmFyIGk9MCA7IGk8ZWxlbWVudHNfbGVuZ3RoIDsgaSsrIClcblx0XHR7XG5cdFx0XHRpZiAoICggX3RoaXMuZWxlbWVudHNbaV0udG9wIDwgX3RoaXMudmlld3BvcnRfYm90dG9tICkgJiYgKCBfdGhpcy5lbGVtZW50c1tpXS5ib3R0b20gPiBfdGhpcy52aWV3cG9ydF90b3AgKSApXG5cdFx0XHR7XG5cdFx0XHRcdF90aGlzLmVsZW1lbnRzX2luX3ZpZXcucHVzaCggX3RoaXMuZWxlbWVudHNbaV0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdC8vIFN0dWZmIHRvIGRvIG9uIHJlc2l6ZVxuXG5cdF90aGlzLm9uX3Jlc2l6ZSA9IGZ1bmN0aW9uKClcblx0e1xuXHRcdC8vIFVwZGF0ZSB2aWV3cG9ydC9lbGVtZW50IGRhdGFcblxuXHRcdF90aGlzLnVwZGF0ZV92aWV3cG9ydCgpO1xuXHRcdF90aGlzLnVwZGF0ZV9lbGVtZW50X2hlaWdodHMoKTtcblxuXHRcdC8vIFVwZGF0ZSBkaXNwbGF5XG5cblx0XHRfdGhpcy51cGRhdGVfdmlld3BvcnRfcG9zaXRpb24oKTtcblx0XHRfdGhpcy51cGRhdGVfZWxlbWVudHNfaW5fdmlldygpO1xuXHRcdF90aGlzLmFuaW1hdGUoKTtcblx0fVxuXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0Ly8gVXBkYXRlIHZpZXdwb3J0IHBhcmFtZXRlcnNcblxuXHRfdGhpcy51cGRhdGVfdmlld3BvcnQgPSBmdW5jdGlvbigpXG5cdHtcblx0XHRfdGhpcy5ib2R5X2hlaWdodCA9ICRkb2N1bWVudC5oZWlnaHQoKTtcblx0XHRfdGhpcy52aWV3cG9ydF9oZWlnaHQgPSAkd2luZG93LmhlaWdodCgpO1xuXHR9XG5cblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQvLyBVcGRhdGUgaGVpZ2h0IG9mIGFuaW1hdGVkIGVsZW1lbnRzXG5cblx0X3RoaXMudXBkYXRlX2VsZW1lbnRfaGVpZ2h0cyA9IGZ1bmN0aW9uKClcblx0e1xuXHRcdHZhciBlbGVtZW50c19sZW5ndGggPSBfdGhpcy5lbGVtZW50cy5sZW5ndGg7XG5cblx0XHRmb3IoIHZhciBpPTAgOyBpPGVsZW1lbnRzX2xlbmd0aCA7IGkrKyApXG5cdFx0e1xuXHRcdFx0dmFyIGVsZW1lbnRfaGVpZ2h0ID0gX3RoaXMuZWxlbWVudHNbaV0uZWxlbWVudC5vdXRlckhlaWdodCgpO1xuXHRcdFx0dmFyIHBvc2l0aW9uID0gX3RoaXMuZWxlbWVudHNbaV0uZWxlbWVudC5vZmZzZXQoKTtcblxuXHRcdFx0X3RoaXMuZWxlbWVudHNbaV0uaGVpZ2h0ID0gZWxlbWVudF9oZWlnaHQ7XG5cdFx0XHRfdGhpcy5lbGVtZW50c1tpXS50b3AgPSBwb3NpdGlvbi50b3A7XG5cdFx0XHRfdGhpcy5lbGVtZW50c1tpXS5ib3R0b20gPSBwb3NpdGlvbi50b3AgKyBlbGVtZW50X2hlaWdodDtcblx0XHR9XG5cdH1cblxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdC8vIEJpbmQgaW5pdGlhbGlzYXRpb25cblxuXHQkZG9jdW1lbnQub24oIF90aGlzLmluaXRfZXZlbnRzLmpvaW4oICcgJyApICwgZnVuY3Rpb24oKXsgX3RoaXMuaW5pdCgpOyB9ICk7XG5cblx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdHJldHVybiBfdGhpcztcblxuXHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbn0pKCBqUXVlcnkgKTtcbiJdfQ==
